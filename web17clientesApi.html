<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="contenedorBotones"></div>
    <hr>
    <div id="contenedorCliente"></div>
    <script src="JS/jquery-3.7.1.js"></script>
    <script>
        $(document).ready(function () {

            var url = "https://apiclientesxml.azurewebsites.net/";
            var request = "api/Clientes";
            $.get(url + request, function (data) {
                $(data).find("Cliente").each(function () {
                    var boton = $("<button>");
                    var idCliente = $(this).find("IdCliente").first().text();
                    var nombre = $(this).find("Nombre").first().text();
                    boton.text(nombre);
                    boton.attr("id", "boton" + idCliente);
                    boton.attr("class", "btn");
                    boton.data("idCliente", idCliente);
                    $("#contenedorBotones").append(boton);

                    boton.click(function () {
                        var html = "";
                        var id = $(this).data("idCliente");
                        var requestById = `api/Clientes/${id}`;
                        $.get(url + requestById, function (data) {
                            var nombre = $(data).find("Nombre").first().text();
                            var email = $(data).find("Email").first().text();
                            var imagen = $(data).find("Imagen").first().text();
                            html += `<h1 style="color:red">${nombre}</h1>`;
                            html += `<p>${email}</p>`;
                            html += `<img src="${imagen}" style="width:150px"></img>`;
                            $("#contenedorCliente").html(html);
                        })
                    })
                })
            })

        })
    </script>
</body>

</html>